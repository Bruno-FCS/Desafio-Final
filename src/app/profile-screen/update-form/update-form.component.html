<form
  class="mt-5 form"
  [formGroup]="updateForm"
  (ngSubmit)="update()"
  *ngIf="usuario$ | async as usuario"
>
  <input
    class="form-control"
    formControlName="user_id"
    type="text"
    [(ngModel)]="usuario.user_id"
    readonly
    hidden
  />

  <div class="form-group mb-3 input-container m-auto">
    <div class="input-field">Usuário:</div>
    <div class="input-field">
      <input
        class="form-control"
        formControlName="user_name"
        type="text"
        [(ngModel)]="usuario.user_name"
      />
    </div>
    <app-mensagem
      *ngIf="
    updateForm.get('user_name')?.errors?.['required'] &&
    updateForm.get('user_name')?.touched
  "
      mensagem="Campo usuário obrigatório"
    ></app-mensagem>
    <app-mensagem
      *ngIf="
        updateForm.get('user_name')?.errors?.['minlength'] &&
        updateForm.get('user_name')?.touched
  "
      mensagem="Campo usuário deve ter ao menos 5 caracteres"
    ></app-mensagem>
  </div>

  <div class="form-group mb-3 input-container m-auto">
    <div class="input-field">Nome completo:</div>
    <div class="input-field">
      <input
        class="form-control"
        formControlName="user_full_name"
        type="text"
        [(ngModel)]="usuario.user_full_name"
      />
    </div>
    <app-mensagem
      *ngIf="
        updateForm.get('user_full_name')?.errors &&
        updateForm.get('user_full_name')?.touched
      "
      mensagem="Campo nome completo obrigatório"
    ></app-mensagem>
  </div>

  <div class="form-group mb-4 input-container m-auto">
    <div class="input-field">E-mail:</div>
    <div class="input-field">
      <input
        class="form-control"
        formControlName="user_email"
        type="text"
        [(ngModel)]="usuario.user_email"
      />
    </div>
    <app-mensagem
      *ngIf="
      updateForm.get('user_email')?.errors?.['required'] &&
      updateForm.get('user_email')?.touched
    "
      mensagem="Campo e-mail obrigatório"
    ></app-mensagem>
    <app-mensagem
      *ngIf="
      updateForm.get('user_email')?.errors?.['email'] &&
      updateForm.get('user_email')?.touched
    "
      mensagem="E-mail inválido"
    ></app-mensagem>
  </div>

  <div class="d-flex justify-content-center">
    <button class="btn btn-secondary" [disabled]="updateForm.invalid">
      Atualizar dados
    </button>
  </div>
</form>
